(this["webpackJsonponline-banking-app"]=this["webpackJsonponline-banking-app"]||[]).push([[15],{1365:function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"a",(function(){return h}));var i=t(60),a=t(80),o=t(0),s=t.n(o),l=t(1341),r=t.n(l),u=function(e){var n=null!==e&&void 0!==e?e:{},t=n.ibSignOnCgiUrl,i=n.ibTargetCgiUrl,a=n.userId,o=n.password,s=n.overrideLanguage,l=function(){alert("This login session is not allowed as you might already have an existing Internet Banking session on this computer. If you wish to login again, please close all open Internet Banking sessions and / or browser windows and begin again. If it doesn't work, wait for 10 minutes and try again."),window.location.href="".concat("/dbank/live/","app/home")};t?r()(t,(function(){if("function"===typeof submitFPW){var e=document.createElement("form");e.style.display="none",e.action=i,e.method="POST",e.innerHTML=function(e,n,t){return'\n        <input type="hidden" name="runmode" value="SIGN_IN"/>\n        <input type="hidden" name="DISESSIONID" value=""/>\n\n        <input type="hidden" name="userNumber" maxLength="32" tabIndex="1"\n               value="'.concat(e,'"/>\n        <input type="hidden" name="password" maxLength="12" tabIndex="2"\n               value="').concat(n,'"/>\n        ').concat(t?'<input type="hidden" name="overrideLanguage" value="'.concat(t,'"/>'):"","       \n    ")}(a,o,s),document.body.appendChild(e),window.submitFPW(e)}else l()}),l):l()},c=function(){var e=Object(a.a)(Object(i.a)().mark((function e(n,t,a,o,s){var l,r,c,h,d,g,f,p,b,v;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=7;break}return e.next=4,n.externalLogin(a);case 4:l=e.sent,e.next=10;break;case 7:return e.next=9,n.login(a);case 9:l=e.sent;case 10:if(c=(r=l||{}).targetView,h=r.targetData,d=r.footerConfig,"restore_mfa_redirect"!==c){e.next=16;break}return g=(h||{}).unAuthenticatedAllowedUser,e.next=15,n.loginRedirect(g);case 15:l=e.sent;case 16:c=(f=l||{}).targetView,h=f.targetData,d=f.footerConfig,"consumer_login"===c?o(c,h,d):"approval_status"===c?t.push("/app/approval-status",{approvalStatusConfig:h}):"redirect"===c?t.push(h):"regapp_ars_redirector"===c?t.push("/app/register"):"ibredirector"===c&&u(h),e.next=36;break;case 23:if(e.prev=23,e.t0=e.catch(0),console.log("Error logging in",e.t0),!e.t0){e.next=35;break}if(p=e.t0.response,b=e.t0.responseText,!p||!b||429!==p.status){e.next=35;break}return"setTimeout(function() { document.getElementsByTagName('head')[0].appendChild(cpo); }, 2000);",v=(v=b).replace("document.getElementsByTagName('head')[0].appendChild(cpo);","setTimeout(function() { document.getElementsByTagName('head')[0].appendChild(cpo); }, 2000);"),document.write(v),document.close(),e.abrupt("return");case 35:t.push("/app/unavailable");case 36:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(n,t,i,a,o){return e.apply(this,arguments)}}();function h(e){return function(n){return s.a.createElement(e,Object.assign({},n,{handleLoginSubmit:c}))}}},1408:function(e,n,t){"use strict";var i=t(505),a=new(t.n(i).a);n.a=a},1409:function(e,n,t){"use strict";var i=t(2),a=t(3),o=t(1408),s=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"initializePage",value:function(e){this.dispatch(e)}},{key:"setLinkAsShow",value:function(e){this.dispatch(e)}},{key:"showCookieError",value:function(){this.dispatch()}},{key:"login",value:function(e,n){this.dispatch()}},{key:"cancel",value:function(){this.dispatch(),window.location.replace(di.env.context+"app/logout?reason=loginPageCancel")}},{key:"loginSucceeded",value:function(e){this.dispatch(e)}},{key:"loginFailed",value:function(e,n){this.dispatch([e,n])}},{key:"updateUsername",value:function(e){this.dispatch(e)}},{key:"updatePassword",value:function(e){this.dispatch(e)}},{key:"usernameError",value:function(e){this.dispatch(e)}},{key:"passwordError",value:function(e){this.dispatch(e)}},{key:"tempPasswordExpired",value:function(e){this.dispatch(e)}},{key:"tempPasswordLocked",value:function(e){this.dispatch(e)}}]),e}();n.a=o.a.createActions(s)},1514:function(e,n,t){},1637:function(e,n,t){"use strict";var i=t(18),a=t(2),o=t(3),s=t(1408),l=t(1409),r=function(){function e(){Object(a.a)(this,e),this.isPerformingLogin=null,this.staticResourcesContext=null,this.timeout=null,this.timeoutMessage=null,this.logout=null,this.logoutMessage=null,this.fiLoginLabel=null,this.usernameLabel=null,this.passwordLabel=null,this.notBlankLabel=null,this.context=null,this.fiLoginButtonLabel=null,this.uspLocale=null,this.isForgotPasswordEnabled=null,this.forgotPasswordLabel=null,this.fiArsRegistrationEnabled=null,this.fiEnrollNowLink=null,this.fiEnrollNowDescription=null,this.fiEnrollButtonLabel=null,this.motd=null,this.browser_compatibility=null,this.browser_compatibility_link_text=null,this.having_trouble_testing_link_test=null,this.unAuthenticatedAllowedUser=null,this.isOAuth2FlowWithLegacy=null,this.isOAuth2Flow=null,this.clientId=null,this.redirectUri=null,this.oauthState=null,this.cancelButtonText=null,this.tempPasswordExpirationEnabled=null,this.tempPasswordExpired=null,this.tempPasswordLocked=null,this.tempPasswordExpiredMsg=null,this.tempPasswordLockedMsg=null,this.i18nStrings=null,this.showHidePasswordLink=null,this.bindListeners({handleInitializePage:l.a.INITIALIZE_PAGE,handleLogin:l.a.LOGIN,handleLoginSucceeded:l.a.LOGIN_SUCCEEDED,handleLoginFailed:l.a.LOGIN_FAILED,handleTempPasswordExpired:l.a.TEMP_PASSWORD_EXPIRED,handleTempPasswordLocked:l.a.TEMP_PASSWORD_LOCKED})}return Object(o.a)(e,[{key:"handleInitializePage",value:function(e){this.fillStore(e),this.isPerformingLogin=!1}},{key:"handleLogin",value:function(){this.isPerformingLogin=!0}},{key:"handleLoginSucceeded",value:function(e){this.isPerformingLogin=!1,this.fillStore(e)}},{key:"handleLoginFailed",value:function(e){var n=Object(i.a)(e,2);n[0],n[1];this.isPerformingLogin=!1}},{key:"handleTempPasswordExpired",value:function(e){this.tempPasswordExpired=e}},{key:"handleTempPasswordLocked",value:function(e){this.tempPasswordLocked=e}},{key:"fillStore",value:function(e){for(var n in e)this.hasOwnProperty(n)&&(this[n]=e[n])}}]),e}();n.a=s.a.createStore(r,"LoginConfigStore")},1638:function(e,n,t){"use strict";var i=t(2),a=t(3),o=t(1408),s=t(1409),l=function(){function e(){Object(i.a)(this,e),this.username=null,this.password=null,this.usernameError=null,this.passwordError=null,this.setLinkAsShow=!0,this.bindListeners({handleUpdateUsername:s.a.UPDATE_USERNAME,handleUpdatePassword:s.a.UPDATE_PASSWORD,handleUsernameError:s.a.USERNAME_ERROR,handlePasswordError:s.a.PASSWORD_ERROR,onSetLinkAsShow:s.a.SET_LINK_AS_SHOW})}return Object(a.a)(e,[{key:"handleUpdateUsername",value:function(e){this.username=e}},{key:"onSetLinkAsShow",value:function(e){this.setLinkAsShow=e}},{key:"handleUpdatePassword",value:function(e){this.password=e}},{key:"handleUsernameError",value:function(e){this.usernameError=e}},{key:"handlePasswordError",value:function(e){this.passwordError=e}}]),e}();n.a=o.a.createStore(l,"LoginCredentialStore")},1639:function(e,n,t){"use strict";var i=t(18),a=t(2),o=t(3),s=t(1408),l=t(1409),r=function(){function e(){Object(a.a)(this,e),this.context=null,this.error=null,this.ajaxError=null,this.cookiesDisabled=null,this.cookiesDisabledMessage=null,this.cookiesDisabledInstruction=null,this.userLocked=null,this.userLockedMessage=null,this.subUserUpdatePin=null,this.subUserUpdatePinMessage=null,this.userHold=null,this.userHoldMessage=null,this.concurrentSessionNotAllowed=null,this.concurrentSessionErrorMsg=null,this.invalidLogin=null,this.invalidLoginMessage=null,this.firstTimeUser=null,this.firstTimeUserMessage=null,this.disclosureRejected=null,this.disclosureRejectedMessage=null,this.ibPassInvalid=null,this.ibPassInvalidMessage=null,this.invalidReferrerDomain=null,this.invalidReferrerDomainMessage=null,this.hostAccessDenied=null,this.hostSubAccessDenied=null,this.hostAccessDeniedMessage=null,this.hostSubAccessDeniedMessage=null,this.whiteListedIPsCantLogin=null,this.whiteListedIPsCantLoginErrorMsg=null,this.userAlreadyConverted=null,this.userAlreadyConvertedHeader=null,this.userAlreadyConvertedMessage=null,this.userAlreadyConvertedForgotMessage=null,this.errorCode=null,this.errorCodeLabel=null,this.serviceUnavailableMessage=null,this.eSignDeclined=null,this.disclosureDeclined=null,this.eSignDeclinedMessage=null,this.disclosureDeclinedMessage=null,this.isForgotPasswordEnabled=null,this.fractalBlock=null,this.fractalBlockMessage=null,this.featureUnavailable=null,this.featureUnavailableMessage=null,this.oauthGotoFullSite=null,this.oauthGotoFullSiteMessage=null,this.bindListeners({handleInitializePage:l.a.INITIALIZE_PAGE,handleShowCookieError:l.a.SHOW_COOKIE_ERROR,handleLogin:l.a.LOGIN,handleLoginSucceeded:l.a.LOGIN_SUCCEEDED,handleLoginFailed:l.a.LOGIN_FAILED})}return Object(o.a)(e,[{key:"handleInitializePage",value:function(e){this.fillStore(e),this.ajaxError=!1,this.cookiesDisabled=!1}},{key:"handleShowCookieError",value:function(){this.error=!0,this.cookiesDisabled=!0}},{key:"handleLogin",value:function(){this.error=!1,this.ajaxError=!1,this.cookiesDisabled=!1}},{key:"handleLoginSucceeded",value:function(e){this.fillStore(e)}},{key:"handleLoginFailed",value:function(e){var n=Object(i.a)(e,2);n[0],n[1];this.error=!0,this.ajaxError=!0}},{key:"fillStore",value:function(e){for(var n in e)this.hasOwnProperty(n)&&(this[n]=e[n])}}]),e}();n.a=s.a.createStore(r,"LoginErrorStore")},2244:function(e,n,t){"use strict";t.r(n);var i,a,o=t(25),s=t(60),l=t(80),r=t(2),u=t(3),c=t(6),h=t(7),d=t(0),g=t.n(d),f=t(81),p=t(31),b=t.n(p),v=t(82),m=t.n(v),L=t(57),w=t(1408),S=t(1637),k=t(1638),E=t(1639),y=(t(1514),t(1446)),P=t(1342),O=t(221),C=t(1365),_=g.a.lazy((function(){return Promise.all([t.e(6),t.e(63)]).then(t.bind(null,2226))})),j=g.a.lazy((function(){return t.e(59).then(t.bind(null,2223))})),I=Object(f.b)("authenticationStore")(i=Object(f.b)("navigationStore")(i=Object(f.c)((a=function(e){Object(c.a)(t,e);var n=Object(h.a)(t);function t(){var e;Object(r.a)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={},e.handleLoginSubmit=function(){var n=Object(l.a)(Object(s.a)().mark((function n(t){var i,a,o,l,r,u;return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setState({submittingLogin:!0}),i=new FormData(t.target.form),a={},i.forEach((function(e,n){a[n]=e})),o=e.props,l=o.authenticationStore,r=o.history,u=o.handleLoginSubmit,n.next=7,u(l,r,a,(function(n,t){e.setLoginConfig(t)}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.handleChangeLocale=function(e){y.a.changeLocale(e,"")},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.state,n=e.titleProps,t=e.submittingLogin,i=e.initialState,a=e.footerConfig,o=e.ibguid,s=(null!==i&&void 0!==i?i:{}).loginConfigEnabled;if(n){if(s){var l=this.props.navigationStore;return g.a.createElement(_,{footerConfig:a,config:i,onLoginSubmit:this.handleLoginSubmit,navigationData:l.navigationData,onLocaleSelect:this.handleChangeLocale,isSubmittingLogin:t,ibguid:o})}return t?g.a.createElement(L.a,null):g.a.createElement(j,{onLoginSubmit:this.handleLoginSubmit})}return g.a.createElement(L.a,null)}},{key:"componentDidMount",value:function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,t,i,a,o,l,r,u,c,h,d,g,f,p;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,t=n.location,i=n.match,a=(i||{}).params,o=(t||{}).state,r=(l=null!==o&&void 0!==o?o:{}).loginPageProps,u=l.loginPageFooterConfig,c=(null!==o&&void 0!==o?o:{}).ibguid,h=m.a.parse(t.search),e.next=8,O.a.getLoginPageProperties(h,a.typeOfPage);case 8:d=e.sent,r?window.history.replaceState({},document.title):(g=d.targetData,f=d.footerConfig,g.initialState.fiEnrollNowLink&&(p=(p=g.initialState.fiEnrollNowLink).substring(p.indexOf("/usp-core")),g.initialState.fiEnrollNowLink=Object(P.a)(p)),u=f,r=g),this.setLoginConfig(r,u,c);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=window.di;e&&(delete e.login,delete e.loginLocaleUrl),w.a&&(w.a.recycle(E.a),w.a.recycle(S.a),w.a.recycle(k.a))}},{key:"getLandingPageLocation",value:function(){var e=this.props.authenticationStore.landingPageLocation,n="";return e&&(n="".concat(e.pathname).concat(e.search?e.search:"")),n}},{key:"setLoginConfig",value:function(e,n,t){var i=this.props.history,a=e.initialState,s=window.di;if(s.login=s.login||{},s.loginLocaleUrl=e.loginLocaleUrl,s.login.initialState=Object(o.a)({},a),i&&i.location&&i.location.state){var l=i.location.state.errorCode;l&&this.handleLoginError(l)}var r={fiLoginPageTitle:a.fiLoginPageTitle,browserTabTitle:e.browserTabTitle};this.setState({footerConfig:n,initialState:a,titleProps:r,submittingLogin:!1,ibguid:t})}}]),t}(d.Component),a.defaultProps={authenticationStore:null,history:null,match:null,handleLoginSubmit:null,navigationStore:null},a.propTypes={authenticationStore:b.a.instanceOf(Object),navigationStore:b.a.instanceOf(Object),history:b.a.instanceOf(Object),location:b.a.instanceOf(Object),match:b.a.instanceOf(Object),handleLoginSubmit:b.a.func},i=a))||i)||i)||i;n.default=Object(C.a)(I)}}]);
//# sourceMappingURL=15.d22cd0a3.chunk.js.map